(()=>{"use strict";var n={46:(n,e,t)=>{t.d(e,{Z:()=>c});var r=t(15),o=t.n(r),a=t(645),i=t.n(a)()(o());i.push([n.id,"*, *:before, *:after {\r\n  box-sizing: border-box;\r\n}\r\n\r\nhtml,\r\nbody {\r\n  width: 100%;\r\n  height: 100%;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\nbody {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-family: sans-serif;\r\n  background: #343434;\r\n  color: #fff;\r\n  font-size: 16px;\r\n}\r\n\r\n.body {\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.left-bar {\r\n  border-right: 1px solid #fff;\r\n  padding: 20px;\r\n  width: 300px;\r\n  height: 100%;\r\n}\r\n\r\n.error {\r\n  color: #f00;\r\n}\r\n\r\n.left-bar section {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.left-bar section input {\r\n  display: block;\r\n  width: 100%;\r\n}\r\n\r\n.right-bar {\r\n  width: calc(100% - 301px);\r\n  height: 100%;\r\n  padding: 20px;\r\n}\r\n\r\n.replay {\r\n  margin-bottom: 20px;\r\n  background: #ff0000;\r\n  padding: 10px;\r\n  border-radius: 10px;\r\n}\r\n\r\n/*.name {*/\r\n/*  margin-bottom: 10px;*/\r\n/*}*/\r\n\r\n/*.button-row {*/\r\n/*  display: flex;*/\r\n/*}*/\r\n\r\n/*.button-row > * {*/\r\n/*  margin-right: 20px;*/\r\n/*}*/","",{version:3,sources:["webpack://./src/stylesheets/main.css"],names:[],mappings:"AAAA;EACE,sBAAsB;AACxB;;AAEA;;EAEE,WAAW;EACX,YAAY;EACZ,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,uBAAuB;EACvB,mBAAmB;EACnB,WAAW;EACX,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,WAAW;EACX,YAAY;AACd;;AAEA;EACE,4BAA4B;EAC5B,aAAa;EACb,YAAY;EACZ,YAAY;AACd;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,cAAc;EACd,WAAW;AACb;;AAEA;EACE,yBAAyB;EACzB,YAAY;EACZ,aAAa;AACf;;AAEA;EACE,mBAAmB;EACnB,mBAAmB;EACnB,aAAa;EACb,mBAAmB;AACrB;;AAEA,UAAU;AACV,yBAAyB;AACzB,IAAI;;AAEJ,gBAAgB;AAChB,mBAAmB;AACnB,IAAI;;AAEJ,oBAAoB;AACpB,wBAAwB;AACxB,IAAI",sourcesContent:["*, *:before, *:after {\r\n  box-sizing: border-box;\r\n}\r\n\r\nhtml,\r\nbody {\r\n  width: 100%;\r\n  height: 100%;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\nbody {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-family: sans-serif;\r\n  background: #343434;\r\n  color: #fff;\r\n  font-size: 16px;\r\n}\r\n\r\n.body {\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.left-bar {\r\n  border-right: 1px solid #fff;\r\n  padding: 20px;\r\n  width: 300px;\r\n  height: 100%;\r\n}\r\n\r\n.error {\r\n  color: #f00;\r\n}\r\n\r\n.left-bar section {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.left-bar section input {\r\n  display: block;\r\n  width: 100%;\r\n}\r\n\r\n.right-bar {\r\n  width: calc(100% - 301px);\r\n  height: 100%;\r\n  padding: 20px;\r\n}\r\n\r\n.replay {\r\n  margin-bottom: 20px;\r\n  background: #ff0000;\r\n  padding: 10px;\r\n  border-radius: 10px;\r\n}\r\n\r\n/*.name {*/\r\n/*  margin-bottom: 10px;*/\r\n/*}*/\r\n\r\n/*.button-row {*/\r\n/*  display: flex;*/\r\n/*}*/\r\n\r\n/*.button-row > * {*/\r\n/*  margin-right: 20px;*/\r\n/*}*/"],sourceRoot:""}]);const c=i},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=n(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t})).join("")},e.i=function(n,t,r){"string"==typeof n&&(n=[[null,n,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var c=0;c<n.length;c++){var s=[].concat(n[c]);r&&o[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),e.push(s))}},e}},15:n=>{function e(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}n.exports=function(n){var t,r,o=(r=4,function(n){if(Array.isArray(n))return n}(t=n)||function(n,e){var t=n&&("undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"]);if(null!=t){var r,o,a=[],i=!0,c=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(n){c=!0,o=n}finally{try{i||null==t.return||t.return()}finally{if(c)throw o}}return a}}(t,r)||function(n,t){if(n){if("string"==typeof n)return e(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(n,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[1],i=o[3];if(!i)return a;if("function"==typeof btoa){var c=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),l="/*# ".concat(s," */"),d=i.sources.map((function(n){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(n," */")}));return[a].concat(d).concat([l]).join("\n")}return[a].join("\n")}},379:(n,e,t)=>{var r,o=function(){var n={};return function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}n[e]=t}return n[e]}}(),a=[];function i(n){for(var e=-1,t=0;t<a.length;t++)if(a[t].identifier===n){e=t;break}return e}function c(n,e){for(var t={},r=[],o=0;o<n.length;o++){var c=n[o],s=e.base?c[0]+e.base:c[0],l=t[s]||0,d="".concat(s," ").concat(l);t[s]=l+1;var u=i(d),A={css:c[1],media:c[2],sourceMap:c[3]};-1!==u?(a[u].references++,a[u].updater(A)):a.push({identifier:d,updater:m(A,e),references:1}),r.push(d)}return r}function s(n){var e=document.createElement("style"),r=n.attributes||{};if(void 0===r.nonce){var a=t.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(n){e.setAttribute(n,r[n])})),"function"==typeof n.insert)n.insert(e);else{var i=o(n.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var l,d=(l=[],function(n,e){return l[n]=e,l.filter(Boolean).join("\n")});function u(n,e,t,r){var o=t?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(n.styleSheet)n.styleSheet.cssText=d(e,o);else{var a=document.createTextNode(o),i=n.childNodes;i[e]&&n.removeChild(i[e]),i.length?n.insertBefore(a,i[e]):n.appendChild(a)}}function A(n,e,t){var r=t.css,o=t.media,a=t.sourceMap;if(o?n.setAttribute("media",o):n.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleSheet)n.styleSheet.cssText=r;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(r))}}var p=null,f=0;function m(n,e){var t,r,o;if(e.singleton){var a=f++;t=p||(p=s(e)),r=u.bind(null,t,a,!1),o=u.bind(null,t,a,!0)}else t=s(e),r=A.bind(null,t,e),o=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)};return r(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;r(n=e)}else o()}}n.exports=function(n,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var t=c(n=n||[],e);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var r=0;r<t.length;r++){var o=i(t[r]);a[o].references--}for(var s=c(n,e),l=0;l<t.length;l++){var d=i(t[l]);0===a[d].references&&(a[d].updater(),a.splice(d,1))}t=s}}}}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return n[r](a,a.exports,t),a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0,(()=>{var n=t(379),e=t.n(n),r=t(46);e()(r.Z,{insert:"head",singleton:!1}),r.Z.locals;const o=require("electron");let a="",i=[];o.ipcRenderer.on("app-path",((n,e)=>{const{pathToSettingsDirectory:t}=e;a=t,0!==i.length&&(i.forEach((n=>n())),i=[])})),o.ipcRenderer.send("need-app-path");const c=require("dgram");var s=t.n(c);const l=require("fs-jetpack");var d=t.n(l);const u=require("fs");var A=t.n(u);const p=document.getElementById("replay-list");let f={};const m=n=>{if(!f[n])return;const{index:e,loop:t,ip:r,port:o,packets:a}=f[n];if(e>a.length-1)return;const{buffer:i,timeToNext:c}=a[e],l=s().createSocket("udp4");l.send(i,o,r,(n=>{l.close()})),f[n].index+=1,t&&(f[n].index=f[n].index%a.length),setTimeout((()=>m(n)),c)},b=n=>{const e=n.currentTarget.getAttribute("data-name"),t=document.querySelector(`.ip-input[data-name='${e}']`).value,r=document.querySelector(`.port-input[data-name='${e}']`).value,o=document.querySelector(`.loop-checkbox[data-name='${e}']`).value,i=`${encodeURI(e)}.json`,c=d().cwd(a).read(i,"json");f[e]={index:0,loop:o,ip:t,port:r,packets:c},m(e)},y=n=>{const e=n.currentTarget.getAttribute("data-name");delete f[e]},g=n=>{const e=n.currentTarget.getAttribute("data-name");d().cwd(a).remove(`${e}.json`),h()},h=()=>{p.innerHTML="";let n=[];try{n=A().readdirSync(a)}catch{setTimeout((()=>{h()}),0)}let e="";n.forEach((n=>{console.log(n);const t=n.replace(".json","");var r;e=`${e}${r=t,`\n            <div class="replay minimized">\n                <div class="replay-header">\n                    <div class="replay-name">\n                        ${decodeURI(r)}\n                    </div>\n                    <button class="replay-delete" data-name="${r}">\n                        DELETE\n                    </button>\n                </div>\n                <div class="replay-controls">\n                   <section>\n                    <label>\n                      Replay IP\n                    </label>\n                    <input type="text" value="127.0.0.1" class="ip-input" data-name="${r}" disabled>\n                  </section>\n        \n                  <section>\n                    <label>\n                      Replay Port\n                    </label>\n                    <input type="text" value="39539" class="port-input" data-name="${r}">\n                  </section>\n                  \n                  <section>\n                    <label for="loop-checkbox-${r}">\n                      Loop\n                    </label>\n                    <input class="loop-checkbox" type="checkbox" id="loop-checkbox-${r}" data-name="${r}">\n                  </section>\n                  \n                  <button class="start-replay-button" data-name="${r}">\n                    Start     \n                  </button>\n                 <button class="stop-replay-button" data-name="${r}" style="display: none;">\n                    Stop     \n                  </button>\n                </div>\n            </div>\n        `}`})),p.innerHTML=e,setTimeout((()=>{const n=document.getElementsByClassName("start-replay-button");for(let e=0;e<n.length;e++)n[e].addEventListener("click",b);const e=document.getElementsByClassName("replay-delete");for(let n=0;n<e.length;n++)e[n].addEventListener("click",g);const t=document.getElementsByClassName("stop-replay-button");for(let n=0;n<t.length;n++)t[n].addEventListener("click",y)}),0)};h();const v=document.getElementById("start-capture-content"),E=document.getElementById("end-capture-content"),B=document.getElementById("new-capture-name"),x=document.getElementById("new-capture-ip"),C=document.getElementById("new-capture-port"),w=document.getElementById("start-capture-button"),k=document.getElementById("end-capture-text"),I=document.getElementById("end-capture-button"),S=document.getElementById("error");let T,$=[];w.addEventListener("click",(()=>{const n=B.value,e=x.value||"127.0.0.1",t=C.value||"39539";if(!n||!e||!t)return;let r;k.innerHTML=`Capturing <b>${n}</b> on <b>${e}:${t}</b>`,v.style="display: none",E.style="display: block",S.style="display: none;",$=[],T=s().createSocket("udp4"),T.on("listening",(()=>{const n=T.address();console.log(`server listening ${n.address}:${n.port}`)})),T.on("error",(n=>{console.log(`server error:\n${n.stack}`),T.close(),S.style="display: block;",v.style="display: block",E.style="display: none"})),T.on("message",(n=>{r||(r=new Date);const e=new Date,t={buffer:n.toString("base64"),time:e.getTime()-r.getTime()};$.push(t)})),T.bind(t,e)})),I.addEventListener("click",(()=>{T.close();const n=B.value,e=`${encodeURI(n)}.json`,t=d().cwd(a),r=$.map((({buffer:n,time:e},t)=>{const r=t+1;let o=0;return r<=$.length-1&&(o=$[r].time-e),{buffer:n,time:e,timeToNext:o}}));t.write(e,JSON.stringify(r,null,2)),v.style="display: block",E.style="display: none",h()}))})()})();
//# sourceMappingURL=app.js.map